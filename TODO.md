# TODO

- Github
    - Releases
        - Semantic versioning
        - Security policy supported versions (SECURITY.md)
    - Organisation
        - Enable "Require a pull request before merging"
    - CI
        - Re-enable Windows CI
        - Replace external actions with own implementations
            - `egor-tensin/setup-clang@v1`
            - `lyricwulf/abc@v1`
            - Remove whitelisted actions from https://github.com/Th3T3chn0G1t/Genstone/settings/actions
- Misc
    - Add `strndup_s` to Gemory
    - Replace submodule invocation where neccesary
    - Prioritise `ifneq` and `else` instead of `ifeq` and `elifeq` for platform specific codepath selection
    - Recondense and fix function outputs
        - Ensure all functions take a max buffer size
    - Use proper punctuation in documentation
        - Fullstops in README.md
        - Fullstops in docstrings
        - Newlines in docstrings
    - `__has_include()` for transiently included files
- Builds
    - Portability
        - Switching out/Disabling submodules
        - Easier handling of adding new platforms in build system
            - `build/platforms/*.mk`
    - Cache `safeclib` in CI
    - Separate per-project and global config
    - Centralized toolchain management config (separate from `config.mk`)
        - Fix `.clang-format`
        - Fetch (& Build) toolchain from remote (Not submodule!)
        - Enforce toolchain on submodules
        - Fetch `autotools`
            - `safeclib` on Windows
                - Fix stupid `strerror` handling in `generror.h`
        - Fix submodule toolchain management
        - Checked C
            - https://api.github.com/repos/microsoft/checkedc-clang/releases/latest
                - Returns a json
                - Looking for **binaries** for Windows
                    - Look for `https://github.com/microsoft/checkedc-clang/releases/download/.*win64.exe`
                - Build tarball on Unixes
    - Build Speed
        - `mold` linker
            - `mold` daemonisation
        - Disabling static analysis for fast builds
        - `ld64 -cache_path_lto`
        - Precompiled headers
- Tests
    - Write tests for glog by setting stream-buffer to a FILE* to be read into a buffer
    - Write tests for generror for error callback
    - Write tests for gentooling by capturing glog output
    - Write tests for gemory
    - Test genfs directory iteration by filling a buffer with filenames from the callback
- Optimization
    - Learn about alignment
    - Learn about cache optimization
    - Learn about SIMD and crap
    - LLVM Coroutines in C (https://llvm.org/docs/Coroutines.html#intrinsics) (https://clang.llvm.org/docs/LanguageExtensions.html#c-coroutines-support-builtins)
    - XRay instrumentation
    - `hot` and `cold` functions & `likely` and `unlikely` branches
- Security
    - Always check errno even when its inconvenient
    - `clang` thread safety intrinsics
    - `_r` function variants
    - QL Recommendations
        - `fopen_s` -> `fdopen`
            or
        - *(prefer this) Native IO underlying `gen_filesystem_handle_t`
- Documentation
    - Tutorials
    - Write examples
        - General code examples (docstring tags `@example`)
            - Comprehensive `@example` tags
        - Tests
        - Modules
- Features
    - `gen_winerr_as_string` pass in buffer size
    - Switch Win32 to NT calls
    - Native-IO
        - NT
        - Pipes
        - Async IO
            - Using `aio(7)` (`aio_read` `aio_write`)
                or
            - Integrate https://github.com/libuv/libuv
    - Timers
        - `timer_create` (https://linux.die.net/man/2/timer_create)
    - Validation on user-controllable macros
        - `diagnose_if`
    - `genproc`
        - Fix
        - Signals/killing subprocesses
        - Add loads of error checking
    - Validate where neccesary with `gen_path_exists`
    - `gendl`
        - Check valid *filenames* for dylibs
    - Locales
        - Unicode
        - Time-formats
    - Integrate `notcurses` for terminal stuff
    - More Date & Time utils
    - Centralised & safer heap management
        - Replace minimal existing heap calls in genfs (& submodules?)
    - generator (editor)
        - Visual build tool
    - Work on GenUIne with binary partitioning
    - Networking
        - Debugger ports (Pretty much the only reason networking is here already)
            - Visual debugger connection
    - Audio
        - Compression
        - Native audio interface
            - ALSA
            - PulseAudio
            - CoreAudio
            - Windows stuff?
            - What does BSD use?
    - Memory tools
        - Measure usage
    - Native UI
        - File dialogue
        - **Windowing**
    - Database stuff
    - Cryptography
        - Hashing
        - Secure-rand
    - Porting backward C++ utils
        - Integrate EASTL?
        - `STC` container types interop. for passthrough
    - Integrate a renderer (Probably need to port back from C++)
        - Figure out yer' scene format
        - More floating-point stuff (more performance-focused than stdlib)
        - More matrix/vector operations
            - ~~Steal~~ Borrow stuff from `cglm` and adapt to `clang` matrix intrins
            - Rework renderer to use matrix intrins instead of whatever it uses internally
        - Integrate a physics system
            - Rework to use matrix intrins instead of whatever it uses internally
    - Multiprocessing
        - OpenMP
        - Fibers intrins
        - Better threading interface
        - `clang` mutex intrins
        - Thread-safety checker intrins
