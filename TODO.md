# TODO

- Meta
    - Restructure `vendor` subdirectory locations
    - Write examples
        - Tests
        - Modules
        - General code examples (docstring tags `@example`)
- Features
    - Fix `genproc`
    - Async IO
        - Using `aio(7)` (`aio_read` `aio_write`)
            or
        - Integrate https://github.com/libuv/libuv
    - Timers `timer_create` `setitimer` `alarm`
    - Validation on user-controllable macros
    - `genproc`
        - Signals/killing subprocesses
        - Shitload of error checking
    - Add a way to determine the `config.mk` from the command line
        - Remove target scripts
    - Validate where neccesary with `gen_path_exists`
    - `gendl`
        - Check valid *filenames* for dylibs
    - Locales
        - Unicode
        - Time-formats
    - Integrate `notcurses` for terminal stuff
    - More Date & Time utils
    - Centralised & safer heap management
        - Replace minimal existing heap calls in genfs (& submodules?)
    - generator (editor)
        - Visual build tool
    - Work on GenUIne with binary partitioning
    - Networking
        - Debugger ports (Pretty much the only reason networking is here already)
            - Visual debugger connection
    - Audio
        - Compression
        - Native audio interface
            - ALSA
            - PulseAudio
            - CoreAudio
            - Windows stuff?
            - What does BSD use?
    - Memory tools
        - Measure usage
        - Wrapped *alloc
        - Integrate `mimalloc`
            - Integrate into submodules
        - Integrate `Annex K` EH
            - `Annex K`-specific `errno` values
            - Managed vs. user callbacks
    - Native UI
        - File dialogue
        - **Windowing**
    - Database stuff
    - Cryptography
        - Hashing
        - Secure-rand
    - Porting backward C++ utils
        - Integrate EASTL?
        - `STC` container types interop. for passthrough
    - Integrate a renderer (Probably need to port back from C++)
        - Figure out yer' scene format
        - More floating-point stuff (more performance-focused than stdlib)
        - More matrix/vector operations
            - ~~Steal~~ Borrow stuff from `cglm` and adapt to `clang` matrix intrins
            - Rework renderer to use matrix intrins instead of whatever it uses internally
        - Integrate a physics system
            - Rework to use matrix intrins instead of whatever it uses internally
    - Multiprocessing
        - Fibers intrins
        - Better threading interface
        - OpenMP
        - `clang` mutex intrins
        - Thread-safety checker intrins
        - Native-IO
            - NT
            - Pipes
- Builds
    - Replace mentions of the nonexistent `KANNEX` with `ANNEXK`
    - Centralized toolchain management config (separate from `config.mk`)
        - Fetch (& Build) toolchain from remote (Not submodule!)
    - Review all tooling used in builds
        - `make`
        - `clang`
        - `ar`
        - `clang-format`
        - `strip`/CTU-strip capable linker
        - `ld`/`ld64`/`mslink`
            or
        - `ld.lld` (or `mold`)/`ld64.lld` (or `mold` once MACHO support is done)/`lld-link`
        - `cmake` for `mimalloc`
        - `autotools` and associated junk for `safeclib`
    - Build Speed
        - `mold` linker
            - `mold` daemonisation
        - `ld64 -cache_path_lto`
        - Precompiled headers
        - `make` `.ONESHELL`
    - Force `lld` on all targets
        - Re-enable ASAN on Windows
    - Static builds
- Tests
    - Write tests for glog by setting stream-buffer to a FILE* to be read into a buffer
    - Write tests for generror for error callback
    - Wrie tests for gentooling by capturing glog output
    - Test genfs directory iteration by filling a buffer with filenames from the callback
- Optimization
    - LLVM Coroutines in C (https://llvm.org/docs/Coroutines.html#intrinsics) (https://clang.llvm.org/docs/LanguageExtensions.html#c-coroutines-support-builtins)
    - OpenMP support
    - XRay instrumentation
    - Apply `__likely` and `__unlikely`
    - Apply `hot` and `cold` function attributes
    - MS `mimalloc`
- Security
    - Checked C
    - `clang` thread safety intrinsics
    - Annex K errno
    - Annex K constraint handler callback into Genstone EH
- Documentation
    - Tutorials
    - Comprehensive `@example` tags